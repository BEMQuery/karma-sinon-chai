{"version":3,"file":"karma-sinon-chai.js","sources":["../src/utils.js","../src/index.js"],"sourcesContent":["function pattern( file ) {\n\treturn {\n\t\tpattern: file,\n\t\tincluded: true,\n\t\tserved: true,\n\t\twatched: false\n\t};\n}\n\nfunction endsWith( substr ) {\n\treturn function( str ) {\n\t\treturn str.indexOf( substr ) >= 0 && str.indexOf( substr ) === ( str.length - substr.length );\n\t};\n}\n\nfunction _isDuplicate( files, file ) {\n\tlet result = false;\n\n\tfor ( let i = 0; i < files.length; i++ ) {\n\t\tif ( files[ i ] ) {\n\t\t\tconst pattern = files[ i ].pattern;\n\n\t\t\tresult = result || endsWith( path.relative( __dirname, file ) )( pattern );\n\t\t}\n\t}\n\n\treturn result;\n}\n\nexport { pattern };\nexport { endsWith };\nexport { isDuplicate };\n","import * as path from 'path';\nimport { pattern } from './utils.js';\nimport { endsWith } from './utils.js';\nimport { isDuplicate } from './utils.js';\n\nfunction framework( files ) {\n\tconst checkDuplicate = isDuplicate.bind( this, files );\n\n\t/* Lolex */\n\tconst lolexPath = `${ path.dirname( require.resolve( 'lolex/package.json' ) ) }/lolex.js`;\n\n\t/* Sinon */\n\tconst sinonPath = `${ path.dirname( require.resolve( 'sinon/package.json' ) ) }/pkg/sinon.js`;\n\n\tif ( checkDuplicate( sinonPath ) ) {\n\t\tfiles.unshift( pattern( lolexPath ) );\n\t\tfiles.unshift( pattern( sinonPath ) );\n\t}\n\n\t/* Chai */\n\tconst chaiPath = `${ path.dirname( require.resolve( 'chai/package.json' ) ) }/chai.js`;\n\n\tif ( checkDuplicate( chaiPath ) ) {\n\t\tfiles.unshift( pattern( chaiPath ) );\n\t\tfiles.push( pattern( path.join( __dirname, '../adapters/chai.js' ) ) );\n\t}\n\n\t/* Sinon-Chai */\n\tconst sinonChaiPath = path.resolve( require.resolve( 'sinon-chai' ) );\n\n\tif ( checkDuplicate( sinonChaiPath ) ) {\n\t\tfiles.push( pattern( sinonChaiPath ) );\n\t}\n}\n\nframework.$inject = [ 'config.files' ];\n\nexport default {\n\t'framework:sinon-chai': [\n\t\t'factory',\n\t\tframework\n\t]\n};\n"],"names":["pattern","file","framework","files","checkDuplicate","isDuplicate","bind","this","lolexPath","path","require","resolve","sinonPath","unshift","chaiPath","push","__dirname","sinonChaiPath","$inject"],"mappings":";aAAA,SAASA,QAASC,kBAEPA,YACC,UACF,WACC,GCAX,SAASC,UAAWC,OACbC,EAAiBC,YAAYC,KAAMC,KAAMJ,GAGzCK,EAAgBC,eAAcC,QAAQC,QAAS,mCAG/CC,EAAgBH,eAAcC,QAAQC,QAAS,uCAEhDP,EAAgBQ,OACdC,QAASb,QAASQ,MAClBK,QAASb,QAASY,SAInBE,EAAeL,eAAcC,QAAQC,QAAS,iCAE/CP,EAAgBU,OACdD,QAASb,QAASc,MAClBC,KAAMf,QAASS,YAAWO,UAAW,8BAItCC,EAAgBR,eAAcC,QAAQC,QAAS,eAEhDP,EAAgBa,MACdF,KAAMf,QAASiB,+BAIvBf,UAAUgB,SAAY,gBAEtB,mCAEE,UACAhB"}