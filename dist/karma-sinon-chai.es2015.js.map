{"version":3,"file":"karma-sinon-chai.es2015.js","sources":["../src/utils.js","../src/index.js"],"sourcesContent":["import { relative } from 'path';\n\nfunction pattern( file ) {\n\treturn {\n\t\tpattern: file,\n\t\tincluded: true,\n\t\tserved: true,\n\t\twatched: false\n\t};\n}\n\nfunction endsWith( substr ) {\n\treturn function( str ) {\n\t\treturn str.indexOf( substr ) >= 0 && str.indexOf( substr ) === ( str.length - substr.length );\n\t};\n}\n\nfunction isDuplicate( files, file ) {\n\tlet result = false;\n\n\tfor ( let i = 0; i < files.length; i++ ) {\n\t\tif ( files[ i ] ) {\n\t\t\tconst pattern = files[ i ].pattern;\n\n\t\t\tresult = result || endsWith( relative( __dirname, file ) )( pattern );\n\t\t}\n\t}\n\n\treturn result;\n}\n\nexport { pattern };\nexport { endsWith };\nexport { isDuplicate };\n","import { dirname } from 'path';\nimport { join } from 'path';\nimport { resolve } from 'path';\nimport { pattern } from './utils.js';\nimport { isDuplicate } from './utils.js';\n\nfunction framework( files ) {\n\tconst checkDuplicate = isDuplicate.bind( this, files );\n\n\t/* Lolex */\n\tconst lolexPath = `${ dirname( require.resolve( 'lolex/package.json' ) ) }/lolex.js`;\n\n\t/* Sinon */\n\tconst sinonPath = `${ dirname( require.resolve( 'sinon/package.json' ) ) }/pkg/sinon.js`;\n\n\tif ( !checkDuplicate( sinonPath ) ) {\n\t\tfiles.unshift( pattern( lolexPath ) );\n\t\tfiles.unshift( pattern( sinonPath ) );\n\t}\n\n\t/* Chai */\n\tconst chaiPath = `${ dirname( require.resolve( 'chai/package.json' ) ) }/chai.js`;\n\n\tif ( !checkDuplicate( chaiPath ) ) {\n\t\tfiles.unshift( pattern( chaiPath ) );\n\t\tfiles.push( pattern( join( __dirname, '../adapters/chai.js' ) ) );\n\t}\n\n\t/* Sinon-Chai */\n\tconst sinonChaiPath = resolve( require.resolve( 'sinon-chai' ) );\n\n\tif ( !checkDuplicate( sinonChaiPath ) ) {\n\t\tfiles.push( pattern( sinonChaiPath ) );\n\t}\n}\n\nframework.$inject = [ 'config.files' ];\n\nexport default {\n\t'framework:sinon-chai': [\n\t\t'factory',\n\t\tframework\n\t]\n};\n"],"names":["pattern","included","served","watched","endsWith","indexOf","length","isDuplicate","relative","__dirname","framework","bind","dirname","require","resolve","unshift","push","join","$inject"],"mappings":"iKAEA,QAASA,QAAT,GAAyB,CACxB,MAAO,CACNA,SADM,CAENC,WAFM,CAGNC,SAHM,CAINC,UAJM,CAMP,CAED,QAASC,SAAT,GAA4B,CAC3B,MAAO,YAAgB,CACtB,MAAgC,EAAzB,IAAIC,OAAJ,KAA8B,EAAIA,OAAJ,MAA4B,EAAIC,MAAJ,CAAa,EAAOA,MACrF,CACD,CAED,QAASC,YAAT,KAAoC,CACnC,GAAI,KAAJ,CAEA,IAAM,GAAI,GAAI,CAAd,CAAiB,EAAI,EAAMD,MAA3B,CAAmC,GAAnC,CACC,GAAK,IAAL,CAAkB,CACjB,KAAM,GAAU,KAAWN,OAA3B,CAEA,EAAS,GAAUI,SAAUI,SAAUC,SAAV,GAAV,IACnB,CAGF,QACA,CCvBD,QAASC,UAAT,GAA4B,CAC3B,KAAM,GAAiBH,YAAYI,IAAZ,CAAkB,IAAlB,GAAvB,CAGM,EAAa,GAAGC,QAASC,QAAQC,OAAR,CAAiB,oBAAjB,CAAT,CAAoD,WAH1E,CAMM,EAAa,GAAGF,QAASC,QAAQC,OAAR,CAAiB,oBAAjB,CAAT,CAAoD,eAN1E,CAQM,IATqB,GAU1B,EAAMC,OAAN,CAAef,UAAf,CAV0B,CAW1B,EAAMe,OAAN,CAAef,UAAf,CAX0B,EAe3B,KAAM,GAAY,GAAGY,QAASC,QAAQC,OAAR,CAAiB,mBAAjB,CAAT,CAAmD,UAAxE,CAEM,IAjBqB,GAkB1B,EAAMC,OAAN,CAAef,UAAf,CAlB0B,CAmB1B,EAAMgB,IAAN,CAAYhB,QAASiB,KAAMR,SAAN,CAAiB,qBAAjB,CAAT,CAAZ,CAnB0B,EAuB3B,KAAM,GAAgBK,QAASD,QAAQC,OAAR,CAAiB,YAAjB,CAAT,CAAtB,CAEM,IAzBqB,EA0B1B,EAAME,IAAN,CAAYhB,UAAZ,CAED,CAEDU,UAAUQ,OAAV,kBAEA,UAAe,CACd,uBAAwB,CACvB,SADuB,CAEvBR,SAFuB,CADV,CAAf"}