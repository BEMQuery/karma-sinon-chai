{"version":3,"file":"karma-sinon-chai.es2015.js","sources":["../src/utils.js","../src/index.js"],"sourcesContent":["function pattern( file ) {\n\treturn {\n\t\tpattern: file,\n\t\tincluded: true,\n\t\tserved: true,\n\t\twatched: false\n\t};\n}\n\nfunction endsWith( substr ) {\n\treturn function( str ) {\n\t\treturn str.indexOf( substr ) >= 0 && str.indexOf( substr ) === ( str.length - substr.length );\n\t};\n}\n\nfunction _isDuplicate( files, file ) {\n\tlet result = false;\n\n\tfor ( let i = 0; i < files.length; i++ ) {\n\t\tif ( files[ i ] ) {\n\t\t\tconst pattern = files[ i ].pattern;\n\n\t\t\tresult = result || endsWith( path.relative( __dirname, file ) )( pattern );\n\t\t}\n\t}\n\n\treturn result;\n}\n\nexport { pattern };\nexport { endsWith };\nexport { isDuplicate };\n","import * as path from 'path';\nimport { pattern } from './utils.js';\nimport { endsWith } from './utils.js';\nimport { isDuplicate } from './utils.js';\n\nfunction framework( files ) {\n\tconst checkDuplicate = isDuplicate.bind( this, files );\n\n\t/* Lolex */\n\tconst lolexPath = `${ path.dirname( require.resolve( 'lolex/package.json' ) ) }/lolex.js`;\n\n\t/* Sinon */\n\tconst sinonPath = `${ path.dirname( require.resolve( 'sinon/package.json' ) ) }/pkg/sinon.js`;\n\n\tif ( checkDuplicate( sinonPath ) ) {\n\t\tfiles.unshift( pattern( lolexPath ) );\n\t\tfiles.unshift( pattern( sinonPath ) );\n\t}\n\n\t/* Chai */\n\tconst chaiPath = `${ path.dirname( require.resolve( 'chai/package.json' ) ) }/chai.js`;\n\n\tif ( checkDuplicate( chaiPath ) ) {\n\t\tfiles.unshift( pattern( chaiPath ) );\n\t\tfiles.push( pattern( path.join( __dirname, '../adapters/chai.js' ) ) );\n\t}\n\n\t/* Sinon-Chai */\n\tconst sinonChaiPath = path.resolve( require.resolve( 'sinon-chai' ) );\n\n\tif ( checkDuplicate( sinonChaiPath ) ) {\n\t\tfiles.push( pattern( sinonChaiPath ) );\n\t}\n}\n\nframework.$inject = [ 'config.files' ];\n\nexport default {\n\t'framework:sinon-chai': [\n\t\t'factory',\n\t\tframework\n\t]\n};\n"],"names":["pattern","included","served","watched","framework","isDuplicate","bind","path.dirname","require","resolve","unshift","push","path.join","__dirname","path.resolve","$inject"],"mappings":"oLAAA,QAASA,QAAT,GAAyB,CACxB,MAAO,CACNA,SADM,CAENC,WAFM,CAGNC,SAHM,CAINC,UAJM,CAMP,CCFD,QAASC,UAAT,GAA4B,CAC3B,KAAM,GAAiBC,YAAYC,IAAZ,CAAkB,IAAlB,GAAvB,CAGM,EAAa,GAAGC,QAAcC,QAAQC,OAAR,CAAiB,oBAAjB,CAAdF,CAAyD,WAH/E,CAMM,EAAa,GAAGA,QAAcC,QAAQC,OAAR,CAAiB,oBAAjB,CAAdF,CAAyD,eAN/E,CAQK,IATsB,GAU1B,EAAMG,OAAN,CAAeV,UAAf,CAV0B,CAW1B,EAAMU,OAAN,CAAeV,UAAf,CAX0B,EAe3B,KAAM,GAAY,GAAGO,QAAcC,QAAQC,OAAR,CAAiB,mBAAjB,CAAdF,CAAwD,UAA7E,CAEK,IAjBsB,GAkB1B,EAAMG,OAAN,CAAeV,UAAf,CAlB0B,CAmB1B,EAAMW,IAAN,CAAYX,QAASY,KAAWC,SAAXD,CAAsB,qBAAtBA,CAAT,CAAZ,CAnB0B,EAuB3B,KAAM,GAAgBE,QAAcN,QAAQC,OAAR,CAAiB,YAAjB,CAAdK,CAAtB,CAEK,IAzBsB,EA0B1B,EAAMH,IAAN,CAAYX,UAAZ,CAED,CAEDI,UAAUW,OAAV,kBAEA,UAAe,CACd,uBAAwB,CACvB,SADuB,CAEvBX,SAFuB,CADV,CAAf"}